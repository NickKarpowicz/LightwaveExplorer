cmake_minimum_required(VERSION 3.16)
project(LightwaveExplorer)

set(CMAKE_CXX_COMPILER "g++")

find_package(PkgConfig REQUIRED)
pkg_check_modules(GTK4 REQUIRED gtk4)
pkg_check_modules(FFTW REQUIRED fftw3)

include_directories(${FFTW_INCLUDE_DIRS})
link_directories(${FFTW_LIBRARY_DIRS})

include_directories(${GTK4_INCLUDE_DIRS})
link_directories(${GTK4_LIBRARY_DIRS})
find_package(fmt)
find_package(OpenMP)

include_directories(../dlib)
add_compile_options(-std=c++20 -O3 -fopenmp -D CPUONLY -w)
add_executable(LightwaveExplorer LightwaveExplorerGTK/LightwaveExplorerFrontendGTK.cpp LightwaveExplorerUtilities.cpp LightwaveExplorerCoreCPU.cpp DlibLibraryComponents/DlibLibraryComponents.cpp)
target_link_libraries(LightwaveExplorer ${GTK4_LIBRARIES} ${FFTW_LIBRARIES})
target_link_libraries(LightwaveExplorer fmt::fmt)
target_link_libraries(LightwaveExplorer OpenMP::OpenMP_CXX)
